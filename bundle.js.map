{"version":3,"sources":["webpack:///webpack/bootstrap 51bf781b255993436e0c","webpack:///./lib/view.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/shape.js","webpack:///./lib/vars.js"],"names":["View","canvasEl","document","getElementById","ctx","getContext","game","stage","player","keyLeft","keyRight","timer","pause","handleInput","requestAnimationFrame","frame","bind","addEventListener","handleKeyDown","e","handleKeyUp","console","log","code","key","handleMove","generateShape","tick","gameOver","view","start","Game","shapes","count","shape","push","forEach","radius","end","startAngle","arcLength","angle","splice","indexOf","clearRect","draw","shrink","rotate","handleCollision","remove","Player","clockwise","delta","x","Math","cos","PI","y","sin","beginPath","arc","getPos","fillStyle","fill","Shape","random","color","strokeStyle","lineWidth","stroke","num","CANVAS_HEIGHT","CANVAS_WIDTH","BALL_RADIUS","CENTER_RADIUS","SHAPE_ANGLE_CHANGE","SHAPE_STARTING_RADIUS","SHAPE_SHRINK_RATE"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 51bf781b255993436e0c","import Game from './game';\n\nclass View {\n  constructor() {\n    const canvasEl = document.getElementById(\"canvas\");\n    this.ctx = canvasEl.getContext(\"2d\");\n    this.game = new Game(this.ctx);\n    this.stage = this.game.stage;\n    this.player = this.game.player;\n    this.keyLeft = false;\n    this.keyRight = false;\n    this.timer = 0;\n    this.pause = false;\n  }\n\n  start() {\n    this.handleInput();\n    // setInterval(this.frame.bind(this), 1000/60);\n    requestAnimationFrame(this.frame.bind(this));\n  }\n\n  handleInput() {\n    const player = this.player;\n    document.addEventListener(\"keydown\", e => {\n      this.handleKeyDown(e);\n    });\n    document.addEventListener(\"keyup\", e => {\n      this.handleKeyUp(e);\n    });\n\n    document.addEventListener(\"keypress\", e => {\n      console.log(e);\n      if (e.code === \"Space\") {\n        console.log(this.pause);\n        this.pause = !this.pause;\n        if (!this.pause) {\n          requestAnimationFrame(this.frame.bind(this));\n        }\n      }\n    });\n  }\n\n  handleKeyDown(e) {\n    if (e.key === \"ArrowRight\") {\n      this.keyRight = true;\n    } else if (e.key === \"ArrowLeft\") {\n      this.keyLeft = true;\n    }\n  }\n\n  handleKeyUp(e) {\n    if (e.key === \"ArrowRight\") {\n      this.keyRight = false;\n    } else if (e.key === \"ArrowLeft\") {\n      this.keyLeft = false;\n    }\n  }\n\n  frame() {\n    if (this.keyLeft) {\n      this.player.handleMove(-9);\n    } else if (this.keyRight) {\n      this.player.handleMove(9);\n    }\n    this.timer += 1;\n    if (this.timer % 45 === 0) {\n      this.game.generateShape();\n    }\n    this.game.tick();\n    if (!this.game.gameOver && !this.pause) {\n      requestAnimationFrame(this.frame.bind(this));\n    }\n  }\n\n}\n\nconst view = new View();\nview.start();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/view.js","import Player from './player';\nimport Shape from './shape';\nimport { CANVAS_WIDTH,\n         CANVAS_HEIGHT,\n         CENTER_RADIUS,\n         BALL_RADIUS,\n         SHAPE_SHRINK_RATE } from './vars';\nclass Game {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.player = new Player();\n    this.shapes = [];\n    this.count = 0;\n    this.gameOver = false;\n  }\n\n  generateShape() {\n    const shape = new Shape();\n    this.shapes.push(shape);\n  }\n\n  handleCollision() {\n    this.shapes.forEach(shape => {\n      if (this.player.radius - BALL_RADIUS <= shape.radius &&\n          this.player.radius + BALL_RADIUS >= shape.radius) {\n            let end = shape.startAngle + shape.arcLength;\n            let start = shape.startAngle;\n            if (end >= 360) {\n              end -= 360;\n              start -= 360;\n            }\n            console.log(start, end, this.player.angle);\n        if (this.player.angle > start &&\n          this.player.angle < end) {\n          this.gameOver = true;\n        }\n      }\n    });\n  }\n\n  remove() {\n    this.shapes.forEach(shape => {\n      if (shape.radius < CENTER_RADIUS) {\n        this.shapes.splice(this.shapes.indexOf(shape), 1);\n        this.count += 1;\n      }\n    });\n  }\n\n  draw() {\n    this.ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    this.shapes.forEach(shape => {\n      shape.draw(this.ctx);\n      shape.shrink(SHAPE_SHRINK_RATE);\n      shape.rotate();\n    });\n    this.player.draw(this.ctx);\n  }\n\n  tick() {\n    // this.generateShape();\n    this.draw();\n    this.handleCollision();\n    this.remove();\n    // if (this.player.clockwise) {\n    //   this.player.handleMove(1);\n    // } else {\n    //   this.player.handleMove(-1);\n    // }\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import { CANVAS_HEIGHT,\n         CANVAS_WIDTH,\n         BALL_RADIUS,\n         CENTER_RADIUS } from './vars';\n\nclass Player {\n  constructor() {\n    this.angle = 0;\n    this.radius = 50;\n    this.clockwise = true;\n  }\n\n  handleMove(delta) {\n    if (delta > 0) {\n      this.clockwise = true;\n    } else {\n      this.clockwise = false;\n    }\n    if (this.angle + delta > 360) {\n      this.angle = delta;\n    } else if (this.angle + delta < 0) {\n      this.angle = 360 + delta;\n    } else {\n      this.angle += delta;\n    }\n  }\n\n  getPos() {\n    const x = CANVAS_WIDTH/2 +\n      this.radius * Math.cos( Math.PI * this.angle / 180);\n    const y = CANVAS_HEIGHT/2 +\n      this.radius * Math.sin( Math.PI * this.angle / 180);\n    return [x,y];\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(\n      this.getPos()[0], this.getPos()[1], BALL_RADIUS, 0, 2 * Math.PI\n    );\n    ctx.fillStyle = 'red';\n    ctx.fill();\n\n    ctx.beginPath();\n    ctx.arc(\n      CANVAS_WIDTH/2, CANVAS_HEIGHT/2, CENTER_RADIUS, 0, 2 * Math.PI\n    );\n    ctx.fillStyle = 'black';\n    ctx.fill();\n  }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js","import { SHAPE_ANGLE_CHANGE,\n         SHAPE_STARTING_RADIUS,\n         CANVAS_HEIGHT,\n         CANVAS_WIDTH } from './vars';\n\nclass Shape {\n  constructor() {\n    this.radius = SHAPE_STARTING_RADIUS;\n    this.startAngle = this.handleMove(Math.random() * 360);\n    this.arcLength = 180;\n    // this.clockwise = Math.random() > 0.5 ? true : false;\n    this.clockwise = true;\n    this.color = 'black';\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(CANVAS_WIDTH/2, CANVAS_HEIGHT/2, this.radius,\n       this.startAngle * Math.PI/180,\n       (this.startAngle + this.arcLength) * Math.PI/180);\n    ctx.strokeStyle = this.color;\n    ctx.lineWidth = 5;\n    ctx.stroke();\n  }\n\n  shrink(num) {\n    this.radius -= num;\n  }\n\n  handleMove(angle) {\n    if (angle > 360) {\n      angle -= 360;\n    } else if (angle < 0) {\n      angle += 360;\n    }\n    return angle;\n  }\n\n  rotate() {\n    if (this.clockwise) {\n      this.startAngle = this.handleMove(this.startAngle + SHAPE_ANGLE_CHANGE);\n    } else {\n      this.startAngle = this.handleMove(this.startAngle - SHAPE_ANGLE_CHANGE);\n    }\n  }\n}\n\nexport default Shape;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/shape.js","//canvas\nexport const CANVAS_HEIGHT = 400;\nexport const CANVAS_WIDTH = 400;\n\n//player\nexport const BALL_RADIUS = 7;\nexport const CENTER_RADIUS = 30;\n\n//shape\nexport const SHAPE_ANGLE_CHANGE = 3;\nexport const SHAPE_STARTING_RADIUS = 300;\nexport const SHAPE_SHRINK_RATE = 2;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/vars.js"],"sourceRoot":""}